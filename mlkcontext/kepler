#!/bin/bash

# ---------------------------
#
# Common settings for all contexts.
#
# ---------------------------
#
# Prefix variables with MLKC_.
#
# ---------------------------
export MLKC_PHD_DATA_APP=phd_data

# -----
# PostGIS
# -----
export MLKC_PHD_DATA_PG_EXTERNAL_PORT=5532
export MLKC_PHD_DATA_POSTGIS_PASSWORD=postgres

# PG Config for 64GB RAM, 8 CPU, SSD
# This is for PG configuration file, not for the pool
export MLKC_PHD_DATA_PG_MAX_CONNECTIONS=500
export MLKC_PHD_DATA_PG_SHARED_BUFFERS=16GB
export MLKC_PHD_DATA_PG_EFFECTIVE_CACHE_SIZE=46GB
export MLKC_PHD_DATA_PG_MAINTENANCE_WORK_MEM=2GB
export MLKC_PHD_DATA_PG_CHECKPOINT_COMPLETION_TARGET=0.7
export MLKC_PHD_DATA_PG_WAL_BUFFERS=16MB
export MLKC_PHD_DATA_PG_DEFAULT_STATISTICS_TARGET=500
export MLKC_PHD_DATA_PG_RANDOM_PAGE_COST=4.0
export MLKC_PHD_DATA_PG_EFFECTIVE_IO_CONCURRENCY=2
export MLKC_PHD_DATA_PG_WORK_MEM=127MB
export MLKC_PHD_DATA_PG_MIN_WAL_SIZE=512MB
export MLKC_PHD_DATA_PG_MAX_WAL_SIZE=2GB
export MLKC_PHD_DATA_PG_MAX_WORKER_PROCESSES=8
export MLKC_PHD_DATA_PG_MAX_PARALLEL_WORKERS_PER_GATHER=4
export MLKC_PHD_DATA_PG_MAX_PARALLEL_WORKERS=8
export MLKC_PHD_DATA_PG_MAX_PARALLEL_MAINTENANCE_WORKERS=4
